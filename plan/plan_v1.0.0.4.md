# План проєкту — версія 1.0.0.4

## Етап 3: Забезпечення «Пам'яті» (Persistence)
Мета: Дати системі пам’ять, реалізувавши компонент «Memory».

Відповідає попередньому пункту: Збереження стану (5).

### 3.1 База даних
- SQLite + SQLModel (або SQLAlchemy). Підготовка до PostgreSQL у майбутньому.

### 3.2 Міграції
- Alembic для управління схемою.

### 3.3 Схема
- `components` (id, name, status)
- `resources` (id, name, type, value)
- `agent_runs` (id, timestamp, input_goal, applied_rules_explanation JSON, snapshot_state JSON)

### 3.4 Логіка
- `main.py` перестає тримати глобальний `current_state`.
- Читання стану з БД перед відповіддю; запис нового стану після застосування агента.
- Ендпоінт для отримання «історії запусків» (пагінація).

### Критерії успіху Етапу 3
- Стан зберігається між перезапусками.
- Історія запусків доступна для UI.
- Є базова міграція і repeatable seed початкових значень.

